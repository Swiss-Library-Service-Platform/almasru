<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SruRecord class &mdash; almasru 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=2709fde1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="utils submodule" href="utils.html" />
    <link rel="prev" title="SruRequest class" href="srurequest.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            almasru
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="configlog.html"><code class="docutils literal notranslate"><span class="pre">config_log</span></code> function</a></li>
<li class="toctree-l1"><a class="reference internal" href="sruclient.html"><code class="docutils literal notranslate"><span class="pre">SruClient</span></code> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="srurequest.html"><code class="docutils literal notranslate"><span class="pre">SruRequest</span></code> class</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">SruRecord</span></code> class</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#almasru.client.SruRecord"><code class="docutils literal notranslate"><span class="pre">SruRecord</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_035_fields"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_035_fields()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_bib_level"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_bib_level()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_child_analytical_records"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_child_analytical_records()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_child_rec"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_child_rec()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_child_rec_std_num"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_child_rec_std_num()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_child_rec_sys_num"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_child_rec_sys_num()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_child_removable_candidate_rec"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_child_removable_candidate_rec()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_inventory_info"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_inventory_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_isbn"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_isbn()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_issn"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_issn()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_iz_using_rec"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_iz_using_rec()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_mms_id"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_mms_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_parent_rec"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_parent_rec()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_parent_removable_candidate_rec"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_parent_removable_candidate_rec()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_reasons_preventing_deletion"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_reasons_preventing_deletion()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.get_standard_numbers"><code class="docutils literal notranslate"><span class="pre">SruRecord.get_standard_numbers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.is_removable"><code class="docutils literal notranslate"><span class="pre">SruRecord.is_removable()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#almasru.client.SruRecord.save"><code class="docutils literal notranslate"><span class="pre">SruRecord.save()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html"><code class="docutils literal notranslate"><span class="pre">utils</span></code> submodule</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">almasru</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">SruRecord</span></code> class</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/srurecord.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="srurecord-class">
<h1><code class="docutils literal notranslate"><span class="pre">SruRecord</span></code> class<a class="headerlink" href="#srurecord-class" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="almasru.client.SruRecord">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">almasru.client.</span></span><span class="sig-name descname"><span class="pre">SruRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mms_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xml</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Element</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#almasru.client.SruRecord" title="Link to this definition"></a></dt>
<dd><p>Class representing a single XML record from SRU</p>
<p>Either <cite>xml</cite> or <cite>mms_id</cite> must be provided. If mms_id is provided the constructor
will fetch the record through SRU query.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mms_id</strong> – mms_id of the record to fetch</p></li>
<li><p><strong>error</strong> – boolean, is True in case of error</p></li>
<li><p><strong>error_messages</strong> – list of string with the error messages</p></li>
<li><p><strong>warning</strong> – boolean, is True in case of warning</p></li>
<li><p><strong>warning_messages</strong> – list of string containing the warning messages</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_035_fields">
<span class="sig-name descname"><span class="pre">get_035_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slsp_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_035_fields" title="Link to this definition"></a></dt>
<dd><p>Return a set of system numbers of 035 fields</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> – Parameters: flag indicating if truncated system numbers should be tested</p></li>
<li><p><strong>slsp_only</strong> – Parameters: flag indicating if only slsp system numbers should be returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of strings with the system IDs of 035 fields</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_bib_level">
<span class="sig-name descname"><span class="pre">get_bib_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'a'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'b'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'c'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'d'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'i'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'m'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'s'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_bib_level" title="Link to this definition"></a></dt>
<dd><p>Get the bib level of the record</p>
<p>Fetch the 7th position of the leader field.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>str with the bib level</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_child_analytical_records">
<span class="sig-name descname"><span class="pre">get_child_analytical_records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'SruRecord'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_child_analytical_records" title="Link to this definition"></a></dt>
<dd><p>Get the list of analytical records. Check only existing 773 fields and not leader.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of <a class="reference internal" href="#almasru.client.SruRecord" title="almasru.client.SruRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">almasru.client.SruRecord</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_child_rec">
<span class="sig-name descname"><span class="pre">get_child_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_child_rec" title="Link to this definition"></a></dt>
<dd><p>check if the records appears in other records</p>
<p>Check system numbers and standard numbers to find records that are linked
to the current record.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>dictionary describing the result of analysis. Keys are following:</p>
<ul class="simple">
<li><p>’MMS_ID’:  current record ID</p></li>
<li><p>’related_records_found’:  boolean indicating if related records have been found</p></li>
<li><p>’number_of_rel_recs’: number of related records found</p></li>
<li><p>’related_records’: list of <code class="xref py py-class docutils literal notranslate"><span class="pre">almasru.client.SruRecords</span></code></p></li>
<li><p>’fields_related_records’: list of fields.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_child_rec_std_num">
<span class="sig-name descname"><span class="pre">get_child_rec_std_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_child_rec_std_num" title="Link to this definition"></a></dt>
<dd><p>Check if the given system number appears in other records.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary describing the result of analysis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_child_rec_sys_num">
<span class="sig-name descname"><span class="pre">get_child_rec_sys_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_child_rec_sys_num" title="Link to this definition"></a></dt>
<dd><p>Check if the given system number appears in other records.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary describing the result of analysis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_child_removable_candidate_rec">
<span class="sig-name descname"><span class="pre">get_child_removable_candidate_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'SruRecord'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_child_removable_candidate_rec" title="Link to this definition"></a></dt>
<dd><p>Get a list of child related records that are maybe removable</p>
<p>Fetch records containing specific field with link to the current record. Considered fields
are ‘773’, ‘800’, ‘810’, ‘811’, ‘830’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of <a class="reference internal" href="#almasru.client.SruRecord" title="almasru.client.SruRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">almasru.client.SruRecord</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_inventory_info">
<span class="sig-name descname"><span class="pre">get_inventory_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_inventory_info" title="Link to this definition"></a></dt>
<dd><p>Get information about the record in the IZ</p>
<p>The method analyse the 852 fields and returns a list with dictionaries containing:
- “IZ”: IZ code
- “MMS ID”: MMS ID of the record in the IZ
- “format”: format of the record, “P” for print, “E” for electronic, “D” for digital</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of records in the IZ linked to the NZ record</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_isbn">
<span class="sig-name descname"><span class="pre">get_isbn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_isbn" title="Link to this definition"></a></dt>
<dd><p>Fetch ISBN of the current record</p>
<p>Fetch the content of all 020$$a</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>set of ISBN</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_issn">
<span class="sig-name descname"><span class="pre">get_issn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_issn" title="Link to this definition"></a></dt>
<dd><p>Fetch ISSN of the current record</p>
<p>Fetch the content of all 022$$a</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>set of ISSN</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_iz_using_rec">
<span class="sig-name descname"><span class="pre">get_iz_using_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_iz_using_rec" title="Link to this definition"></a></dt>
<dd><p>Get the list of IZ using this record</p>
<p>This method analyses the 852 fields and returns the list of IZ using the current NZ record.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of IZ using this record.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_mms_id">
<span class="sig-name descname"><span class="pre">get_mms_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_mms_id" title="Link to this definition"></a></dt>
<dd><p>Get MMS_ID of the current record</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string containing the MMS_ID, None in case of error or no data available</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_parent_rec">
<span class="sig-name descname"><span class="pre">get_parent_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_parent_rec" title="Link to this definition"></a></dt>
<dd><p>Get parents records of the current record</p>
<p>Uses the content of fields 7xx and 8xx to get all parent records. the method checks standard numbers
in subfields “x” or “z” and system numbers in “w” subfield.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary describing the result of the analysis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_parent_removable_candidate_rec">
<span class="sig-name descname"><span class="pre">get_parent_removable_candidate_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'SruRecord'</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_parent_removable_candidate_rec" title="Link to this definition"></a></dt>
<dd><p>Get a list of child related records that are maybe removable</p>
<p>Check 773 of the current record and look for potential parent records.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of <a class="reference internal" href="#almasru.client.SruRecord" title="almasru.client.SruRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">almasru.client.SruRecord</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_reasons_preventing_deletion">
<span class="sig-name descname"><span class="pre">get_reasons_preventing_deletion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#almasru.client.SruRecord.get_reasons_preventing_deletion" title="Link to this definition"></a></dt>
<dd><p>analyse(self, removable_rec_mms_id: Optional[List[str]] = None) =&gt; List[str]
Analyse the record to find reasons preventing deletion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>removable_rec_mms_id</strong> – list of MMS_ID of records that are safe to be removed. This is used to avoid
records of the list currently being processed to be considered as preventing deletion.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of string with the reasons preventing deletion</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.get_standard_numbers">
<span class="sig-name descname"><span class="pre">get_standard_numbers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.get_standard_numbers" title="Link to this definition"></a></dt>
<dd><p>Fetch all ISSN and ISBN of the records</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>set of standard numbers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.is_removable">
<span class="sig-name descname"><span class="pre">is_removable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">removable_rec_mms_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#almasru.client.SruRecord.is_removable" title="Link to this definition"></a></dt>
<dd><p>Check if a record is safe to be removed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>removable_rec_mms_id</strong> – list of MMS_ID of records that are safe to be removed. This is used to avoid
records of the list currently being processed to be considered as preventing deletion.</p>
</dd>
</dl>
<p>The method checks related records and inventory in other IZ.
1. Test if the record has 852 fields. It would indicate existing holding in any IZ
2. Test if record has analytical records children (children linked with 773 field)
3. Test if the record is target of 8xx or 773 fields of other records
4. Test if the record has a 773 field targeting a record with inventory</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple containing bool indicating if the record can be safely removed and a message.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="almasru.client.SruRecord.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#almasru.client.SruRecord.save" title="Link to this definition"></a></dt>
<dd><p>Save the xml data of the record in the <cite>./records</cite> folder. Filename
is <cite>rec_&lt;mms_id&gt;.xml</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="srurequest.html" class="btn btn-neutral float-left" title="SruRequest class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="utils.html" class="btn btn-neutral float-right" title="utils submodule" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Raphaël Rey.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>